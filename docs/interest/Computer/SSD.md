# 🤔 如何选购固态硬盘

电脑开机、运行程序，都需要把硬盘中的数据加载到内存中，如果硬盘的速度太慢，就会导致电脑的开机时间长、反应慢等问题。

固态硬盘的读写速度是普通机械硬盘的好几倍，可以有效改善电脑反应慢的问题。

## 存储颗粒

「颗粒」是固态硬盘**存储数据的地方**，存储颗粒分为三种类型：**SLC 颗粒**、**MLC 颗粒**、**TLC 颗粒**（还有最新的 **QLC 颗粒**）

![存储颗粒](https://pic4.zhimg.com/80/v2-ccde5e1d23eb88b1480f901b960c107b_hd.jpg)

### SLC

SLC（Single-Level Cell），每个 Cell 单元只存储 **1bit** 信息，也就是只有 **`0`、`1` 两种电压**变化，结构简单，电压控制也快速，反映出来的特点就是寿命长，性能强，P/E 寿命在 1 万到 10 万次之间，

缺点就是「容量低」、「成本高」，毕竟一个 Cell 单元只能存储 1bit 信息。

### MLC

MLC（Multi-Level Cell），它实际上是跟 SLC 对应的，SLC 之外的 NAND 闪存都是 MLC 类型，而我们常说的 MLC 是指 2bit MLC。

每个 cell 单元存储 **2bit** 信息，有 **`00`、`01`、`10`、`11` 四种电压**变化，所以它比 SLC 需要更复杂的的电压控制，加压过程用时也变长，意味着写入性能降低了，同时可靠性也下降了，P/E 寿命根据不同制程在 3000-5000 次不等，有的还更低。

### TLC

TLC（Trinary-Level Cell），准确来说是 3bit MLC，每个 cell 单元存储 **3bit** 信息，电压从 **`000` 到 `111` 有 8 种变化**，容量比 MLC 再次增加 1/3，成本更低，但是架构更复杂，P/E 编程时间长，写入速度慢，P/E 寿命也降至 1000-3000 次，部分情况会更低。

### QLC

QLC（Quad-Level Cell），或者叫 4bit MLC，每个 cell 单元存储 **4bit** 信息，电压从 `0000` 到 `1111` 有 16 种变化，容量增加了 33%，但是写入性能、P/E 寿命会再次减少。

### 关系

固态硬盘是一个超大的数据仓库，里面有数不清的存储颗粒，每个颗粒存储的内容越多，读取速度越慢（因为需要识别是否是目标数据）

而且数据越多的存储颗粒使用频率越高，负担重，所以寿命也会下降（如 TLC 的寿命比 SLC 和 MLC 要低很多，但是 TLC 正常使用个 3~5 年是没有问题的），但是好在价格便宜，世面上大多固态硬盘都是 TLC 颗粒的。

### 牌子选购

![颗粒厂商](http://ww1.sinaimg.cn/large/006DJj5Hgy1g5mxf2uxe1j31lw0sa1fg.jpg)

目前世界上能够自主生产颗粒的厂家有：Intel（英特尔）、三星、镁光（英睿达）、海力士、东芝、闪迪。

自己不会生产颗粒，但是使用从上面几家颗粒厂购买原厂合格颗粒的厂家有：建兴、浦科特。

一些杂牌给出性价比高的错觉，是因为使用了「白片」或者「黑片」颗粒的固态硬盘：

![白片、黑片](http://ww1.sinaimg.cn/mw690/006DJj5Hgy1g5mxjizyzzj31o00xiqv5.jpg)

## 主控

「主控」负责固态硬盘里**所有数据的管理，负责给每条数据编号并且放置到目标颗粒上。**

在负载较高的情况下，质量不好的主控的寿命会比存储颗粒更短。

所以要求主控硬件和系统要质量过关，比较好的主控有：马牌（Marvell）、三星、英特尔（Intel）

正在崛起的品牌：东芝、慧荣（SiliconMotion）、群联（PHISON）

## 缓存

「缓存」的目的是**当硬盘某个时间写入量过大（或者比较繁忙）的时候，可以作为临时的存储介质。**

固态硬盘的缓存有两种：**DDR**、**SLC-Cache**（SLC 缓存）

- DDR：传统的 DDR 缓存，它的速度快得和内存条差不多；

- SLC-Cache：将内部一部分容量**模拟 SLC 颗粒进行工作**，这部分容量叫做 SLC-Cache。

    如 TLC 颗粒，理论上在读写上的速度要比 SLC、MLC 慢不少，但是大部分 TLC 颗粒的固态采用了 SLC-Cache，导致实际 TLC 颗粒的固态在跑分上与 SLC、MLC 颗粒的固态不分伯仲。

    但是当这部分缓存用完后，TLC **速度慢**的缺点就会暴露，这也是为什么 TLC 颗粒的固态在传输大文件的时候会出现明显「掉速」的原因。

    ![TLC 传输大文件掉速](http://ww1.sinaimg.cn/large/006DJj5Hgy1g5my4x4f1uj30ve0l0wks.jpg)

## 总线和协议

「总线」是数据传输的线路，用与将固态硬盘重的数据传输给内存条和 CPU，位于电脑主板上。

总线分为：**SATA 总线**和 **PCI-E 总线**。

### SATA 总线

比较绕路的城乡公路。

### PCI-E 总线

两地直达高速公路。PCI-E 分为 5 个等级：**PCIE×1**、**PCIE×2**、**PCIE×4**、**PCIE×8**、**PCIE×16**。

PCI-E 总线的固态硬盘用的都是 **PCIE×2** 或者 **PCIE×4**；**PCIE×2** 的固态，速度不超过 `1000MB/s`，**PCIE×4** 的固态，速度都在 `1500MB/s` 以上，有的可以达到 `3000MB/s`。

而显卡用的都是 **PCIE×8**、**PCIE×16** 的级别，因为产生的数据非常多。

:::warning todo 
PCIE3.0
:::

### NVME 协议

目前的固态硬盘最高使用的是 **PCI-E×4** 总线，但是在这条总线上，有无「**NVME 协议**」的固态硬盘速度是不一样的。

**NAME 协议**是为了达到 **PCIE×4** 的最大速度而设计的协议。同样是 **PCIE×4** 的总线，不支持 NVME 协议的固态最高只能达到 `1500MB/s`，支持 NVME 的固态能达到 `3000MB/s`。

## 接口

说完总线，我们再来说说连接这些总线的接口，固态硬盘根据接口分为：**SATA**、**M.2**、**PCI-E**。

![固态硬盘的接口](http://ww1.sinaimg.cn/large/006DJj5Hgy1g5ndparmk7j31ds0qoh47.jpg)

### SATA 接口

SATA 接口的固态属于老式的固态硬盘，走的是 SATA 总线，这种 SSD 的速度不会超过 `550MB/s`。

![SATA 接口 SSD](http://ww1.sinaimg.cn/large/006DJj5Hgy1g5niknaar5j31nu0s4b29.jpg)

### M.2 接口

M.2 接口属于高性能接口，走的是 **PCIE×4** 总线（速度需要看是否支持 **NVME 协议**）。

![M.2 接口](http://ww1.sinaimg.cn/large/006DJj5Hgy1g5nirdlsu2j31mq0tee81.jpg)

M 型接口有两种类型：

- M 型接口的 SSD 要求你的主板要有「**Socket3 接口**」，一般较新的主板都会有这种接口。

- M.2 型接口的 SSD，它的金手指上有两个凹槽，这种 SSD 走 **PCIE×2** 或 **SATA** 总线，虽然性能不强，但是 **Socket2** 和 **Socket3** 接口都能用，用来升级老机型比较合适。

### PCI-E 接口

这种接口的 SSD 用的是 **PCIE×4** 接口，走的 **PCIE×4** 总线，不过大多数主板**都没有 PCIE×4 的接口**，所以通常都是插在**显卡用的 PCIE×16 的插槽**中使用的。

![PCI-E 接口 SSD](http://ww1.sinaimg.cn/large/006DJj5Hgy1g5niv05d6qj31440iiaj5.jpg)

### mini PCI-E 接口

**MINI PCI-E**<sup>[1](https://baike.baidu.com/item/MINI%20PCI-E)</sup> 是基于 PCI-E 总线的接口，两种接口在电气性能上不同，外形不同，不可混用，且每种接口都有相对应的元器件，弄错了是插不上的。

### mSATA 接口

**mSATA**<sup>[2](https://baike.baidu.com/item/MSATA)</sup>（mini-SATA）是迷你版本 SATA 接口，新的控制器可以让 SATA 技术整合在小尺寸的装置上。

mSATA 接口外型和电子界面与 [mini PCI-E](#mini-pci-e-接口) 完全相同，但电子信号不同，两者互不兼容。

## 读写速度

颗粒和固件影响了固态硬盘的寿命，SLC-Cache 的存在让 TLC 颗粒的 SSD 也能有不错的「[顺序读写速度](#顺序读写)」。

但是！真正能够让你有实实在在感觉「快」的，是它的「[4k 随机读写速度](#_4k-随机读写)」，也叫 **4k IOPS 值**。

这些数值越高，代表读写性能越优异，速度越快，使用起来也就越流畅。。

### 顺序读写

**顺序读写能力**（也叫**连续读写**）是衡量硬盘在进行较长文件长度（一般不少于 `128KB`）顺序读写操作时所具备的性能；**顺序读写**速度影响着你读写一个「超大文件」的速度。

### 随机读写

**4k 随机读写**影响着我们开机、打开软件、游戏加载快不快。

它是在 SSD 上各颗粒中进行随机读写的速度，所以在挑选 SSD 的时候可以对比一下 **4K IOPS 值**的大小。

随机读写中最重要的是 **4K（QD1）**和 **4K（QD32）**，因为 **4K（QD1）** 测试与大多数消费者工作负载环境相似，而 SSD 的最大随机性能由 **4K（QD32）** 表示。

## 容量

固态硬盘的容量也是影响其性能的一个重要因素。

目前固态硬盘的容量有 `32GB`、`64GB`、`128GB`、`256GB`、`512GB`、`1T`、`2T` 和 `4T` 等多种规格。

同一型号的固态硬盘，容量越大，寿命越久，速度也越快。

![固态硬盘容量](http://ww1.sinaimg.cn/large/006DJj5Hgy1g5nsmsrzokj31hc0u47tm.jpg)

## 总价

1. 固态硬盘尽量买**能自己生产颗粒的品牌**，至少颗粒来源有保证；

2. TLC 颗粒的固态硬盘价格便宜，用几年就换新，不需要对 TLC 有太大的抵触情绪；

3. 固态硬盘的**容量很重要**，越大性能越好，寿命越好，预算够的话最好买 512G 以上的；

4. SATA 接口的固态硬盘**不需要考虑电脑支不支持**，因为所有的电脑都支持；

5. M.2 接口的固态硬盘**安装更方便**，性能也更好，但是购买前需要事先看好电脑有无 M.2 接口；

6. **4k IOPS 参数很能反应固态硬盘性能**，购买前可以参考。

## 参考资料

> [【装机必看】固态硬盘篇（SSD）-参数也能这么玩？可能是史上最好玩的固态硬盘科普](https://www.bilibili.com/video/av31584748)
> 
> [【回形针PaperClip】你的硬盘是如何储存数据的？](https://www.bilibili.com/video/av55918101)
> 
> [【回形针PaperClip】固态硬盘到底好在哪？](https://www.bilibili.com/video/av61437877)
> 
> [SLC,MLC,TLC,QLC是什么意思？ - 知乎](https://zhuanlan.zhihu.com/p/50228125)
> 
> [SSD有哪些重要参数？ - 知乎](https://www.zhihu.com/question/47328541/answer/202895200)
> 
> [SSD、SSHD和HDD哪个好？- 黎小白 | 知乎](https://www.zhihu.com/question/22625049/answer/229993659)