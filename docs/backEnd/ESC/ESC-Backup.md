# é˜¿é‡Œäº‘è·¨å®ä¾‹æ•°æ®è¿ç§»

## èƒŒæ™¯

ç”±äºä¹‹å‰åœ¨é˜¿é‡Œäº‘ä¸Šä¹°çš„å­¦ç”Ÿæœºå¿«è¦åˆ°æœŸäº†ï¼Œç„¶é¹…ç»­è´¹çš„æ—¶å€™æ²¡èƒ½ä½¿ç”¨å­¦ç”Ÿä¼˜æƒ æ„Ÿè§‰å¾ˆå¥‡æ€ªï¼Œæäº†å·¥å•å¯»æ±‚å¸®åŠ©ï¼Œè¯´æ˜¯ï¼š

> æ‚¨çš„å®ä¾‹å’Œçº¿ä¸Šä¼˜æƒ çš„å®ä¾‹ã€Œè§„æ ¼ã€ä¸åŒï¼Œå¯¼è‡´æ— æ³•äº«å—å­¦ç”Ÿä¼˜æƒ ç»­è´¹ï¼Œå»ºè®®æ‚¨æ•°æ®å¤‡ä»½åï¼Œå°†æœåŠ¡å™¨ç”³è¯·é€€æ¬¾ï¼Œé‡æ–°è´­ä¹°æ–°çš„ä¼˜æƒ å­¦ç”Ÿå®ä¾‹ã€‚

ç”±äºæˆ‘çš„ ESC å®ä¾‹é©¬ä¸Šå°±è¦åˆ°æœŸäº†ï¼Œä¹Ÿä¸éœ€è¦é€€æ¬¾ï¼ŒåŠ ä¸Šè¿™å° ESC çš„ç»­è´¹ä»·æ ¼ä¸€å¹´è¦ 600+ è¿˜æ˜¯æœ‰ç‚¹è´µï¼ˆå½“ç„¶ç¾Šæ¯›ä¸è–…ç™½ä¸è–…ï¼Œæœ€åä¸€å¹´å­¦ç”Ÿäº†èµ¶ç´§ä¸Šæœ€åä¸€ç­è½¦ï¼‰ï¼Œæ‰€ä»¥åªèƒ½å†ä¹°ä¸€å°å®ä¾‹äº†ã€‚

ä½†æ˜¯æœ€ä»¤æˆ‘å¤´ç–¼çš„å°±æ˜¯**æ•°æ®çš„è¿ç§»**ï¼Œé—®äº†ä¸‹å®¢æœæœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹ä¾¿çš„é€”å¾„è¿›è¡Œæ•°æ®çš„è¿ç§»ï¼Œè´´å¿ƒçš„å·¥ç¨‹å¸ˆå®¢æœä¹Ÿæä¾›äº†ä¸€æ¡æ€è·¯ç»™æˆ‘ï¼š

> æ‚¨å¥½ï¼Œå»ºè®®æ‚¨åˆ›å»ºå¿«ç…§å¤‡ä»½æ‚¨çš„æ•°æ®ï¼Œæ‚¨åˆ›å»ºå¿«ç…§ä¹‹åï¼Œæ‚¨è´­ä¹°å®ä¾‹ä¹‹åæ‚¨å¯å°†æ‚¨çš„æ•°æ®æ¢å¤åˆ°æ‚¨çš„å®ä¾‹ä¸­ï¼Œè¯·æ‚¨çŸ¥æ‚‰ã€‚

è¿™é‡Œè¿˜æ˜¯ç‚¹èµä¸€ä¸‹é˜¿é‡Œäº‘çš„å·¥å•ç³»ç»Ÿçš„å·¥ç¨‹å¸ˆä»¬ï¼ŒçœŸçš„åˆè´´å¿ƒåˆé è°±ï¼Œç»™äº†è§£å†³æ–¹æ¡ˆè¿˜ä¸Šäº†æ•™ç¨‹é“¾æ¥ï¼ˆè™½ç„¶ä¸æ˜¯æˆ‘éœ€è¦çš„ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¸€æ¡æ€è·¯ï¼‰ã€‚

## è´­ä¹°å®ä¾‹

é˜¿é‡Œäº‘å­¦ç”Ÿæœºçš„è´­ä¹°åœ¨é¦–é¡µçš„åº•éƒ¨ï¼Œæœç´¢ã€Œå­¦ç”Ÿæœºã€å³å¯æ‰¾åˆ°å¯¹åº”é“¾æ¥ï¼Œä¸€å¹´ä»·æ ¼ ï¿¥114ã€‚

## æ•°æ®å¤‡ä»½

è¿™é‡Œçš„æ•°æ®å¤‡ä»½æ˜¯åŸºäºã€Œå¿«ç…§ã€å’Œã€Œç³»ç»Ÿç›˜é•œåƒã€è¿›è¡Œçš„ã€‚

ã€Œ**å¿«ç…§**ã€æ˜¯è·Ÿéšè™šæ‹Ÿæœºç£ç›˜å­˜å‚¨çš„ï¼Œä¸èƒ½è„±ç¦»è™šæ‹Ÿæœºç£ç›˜ä½¿ç”¨ï¼Œè€Œè™šæ‹Ÿæœºç£ç›˜**ä¸èƒ½è·¨å¯ç”¨åŒºå’ŒåŒºåŸŸæ¢å¤**ã€‚æ‰€ä»¥å¦‚æœæˆ‘ä»¬éœ€è¦å°†**å¤‡ä»½å­˜å‚¨æˆ–æ¢å¤åˆ°å…¶ä»–å¯ç”¨åŒºã€åŒºåŸŸæ—¶**ï¼Œå°±è¦ç”¨åˆ°ã€Œ**è‡ªå®šä¹‰é•œåƒ**ã€ã€‚

### 1. åˆ©ç”¨å¿«ç…§åˆ›å»ºè‡ªå®šä¹‰é•œåƒ

è™½ç„¶ç°åœ¨é˜¿é‡Œäº‘çš„å¿«ç…§äº§å“è¿›è¡Œäº†æ­£å¼çš„å•†ä¸šåŒ–ï¼Œä½†æ˜¯ä¾ç„¶ä¼šä¸ºæˆ‘ä»¬ä¿å­˜æœ€è¿‘ 15 å¤©å†…çš„å¿«ç…§ã€‚

ç°åœ¨æˆ‘ä»¬åœ¨éœ€è¦å¤‡ä»½æ•°æ®çš„å®ä¾‹ä¸Šæ‰¾åˆ°æœ€è¿‘ä¸€ä¸ªå¯ç”¨çš„å¿«ç…§ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»ºã€‚

ä¸‹é¢æ˜¯æ­¥éª¤ï¼š

1. åœ¨å·¦ä¾§å¯¼èˆªæ ä¸­ï¼Œæ‰¾åˆ°å¹¶è¿›å…¥ã€Œ**å®ä¾‹**ã€ï¼›
2. åœ¨ã€Œäº‘æœåŠ¡å™¨ ECSã€ä¾§è¾¹æ æ‰¾åˆ°å¹¶è¿›å…¥ã€Œ**å¿«ç…§å’Œé•œåƒ ğŸ‘‰ğŸ» å¿«ç…§åˆ—è¡¨**ã€ï¼›
3. æ‰¾åˆ°å¯¹åº”çš„ã€Œå¿«ç…§å®ä¾‹ã€ï¼Œç‚¹å‡»å³ä¾§çš„ã€Œ**åˆ›å»ºè‡ªå®šä¹‰é•œåƒ**ã€ã€‚

    â—ï¸éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¿«ç…§çš„ç£ç›˜å±æ€§å¿…é¡»æ˜¯**ç³»ç»Ÿç›˜**ã€‚æ•°æ®ç›˜ä¸èƒ½ç”¨äºåˆ›å»ºè‡ªå®šä¹‰é•œåƒã€‚

    ä½†æ˜¯æˆ‘ä»¬å¯ä»¥åœ¨å¯¹ç³»ç»Ÿç›˜**åˆ›å»ºè‡ªå®šä¹‰é•œåƒ**çš„æ—¶å€™ï¼Œ**å¸¦ä¸Šæ•°æ®ç›˜çš„å¤‡ä»½**ã€‚

![åˆ›å»ºè‡ªå®šä¹‰é•œåƒ](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9696/4594_zh-CN.png)

### 2. å¤åˆ¶é•œåƒ

æ³¨æ„ã€Œè‡ªå®šä¹‰é•œåƒã€é»˜è®¤æ˜¯**ä¸èƒ½å¤Ÿè·¨åŒºåŸŸä½¿ç”¨**çš„ï¼Œå¦‚æœéœ€è¦è·¨åŒºåŸŸä½¿ç”¨åˆ™éœ€è¦å…ˆå°†é•œåƒ**å¤åˆ¶åˆ°å…¶ä»–åŒºåŸŸ**ã€‚

ã€Œå¤åˆ¶é•œåƒã€é€‚ç”¨äº**è·¨åœ°åŸŸéƒ¨ç½²åº”ç”¨**ï¼Œå¯ä»¥åœ¨**ä¸åŒåœ°åŸŸ**çš„ ECS å®ä¾‹ä¸­**è¿è¡ŒåŒä¸€é•œåƒç¯å¢ƒ**ã€‚

å°±æ¯”å¦‚æˆ‘ï¼Œè¦æŠŠ**ååŒ— 1ï¼ˆé’å²›ï¼‰**ä¸Šçš„é•œåƒï¼Œå¤åˆ¶åˆ°**åä¸œ 2ï¼ˆä¸Šæµ·ï¼‰**ï¼Œä¸‹é¢æ˜¯å¤åˆ¶æ­¥éª¤ï¼š

1. é€‰æ‹©**é•œåƒæ‰€åœ¨åœ°åŸŸ**ï¼›
2. åœ¨ã€Œäº‘æœåŠ¡å™¨ ECSã€å¯¼èˆªæ ä¸­ï¼Œé€‰æ‹©ã€Œ**å¿«ç…§å’Œé•œåƒ ğŸ‘‰ğŸ» é•œåƒ**ã€ï¼›
3. é€‰ä¸­éœ€è¦å¤åˆ¶çš„é•œåƒï¼Œåœ¨æ“ä½œåˆ—ä¸­ï¼Œå•å‡»ã€Œ**å¤åˆ¶é•œåƒ**ã€ï¼›

    â—ï¸éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¤åˆ¶çš„é•œåƒçš„ç±»å‹å¿…é¡»æ˜¯**è‡ªå®šä¹‰é•œåƒ**ã€‚

4. åœ¨å¤åˆ¶é•œåƒå¯¹è¯æ¡†ä¸­ï¼Œé€‰æ‹©**ç›®æ ‡åœ°åŸŸ**ã€å¡«å†™é•œåƒåœ¨ç›®æ ‡åœ°åŸŸæ˜¾ç¤ºçš„**è‡ªå®šä¹‰é•œåƒåç§°**å’Œ**è‡ªå®šä¹‰é•œåƒæè¿°**ï¼›
5. ç¡®è®¤æ“ä½œå®Œæˆåï¼Œå³å¯åœ¨ç›®æ ‡åŒºåŸŸçœ‹åˆ°é•œåƒçš„ã€Œ**å¤åˆ¶è¿›åº¦**ã€ï¼Œå¾…å¤åˆ¶å®Œæˆåï¼Œä¾¿å¯ä½¿ç”¨é•œåƒã€‚

### 3. ä½¿ç”¨é•œåƒ

ç°åœ¨æˆ‘ä»¬æœ‰äº†åŒ…å«äº†**å¤‡ä»½æ•°æ®**å’Œ**ç³»ç»Ÿé…ç½®**çš„é•œåƒä¹‹åï¼Œæˆ‘ä»¬éœ€è¦ç”¨æˆ‘ä»¬çš„**ç³»ç»Ÿç›˜é•œåƒ**è¦†ç›–**ç›®æ ‡å®ä¾‹çš„ç³»ç»Ÿç›˜**ã€‚

â—ï¸æ›´æ¢ç³»ç»Ÿç›˜åï¼Œéœ€è¦æ³¨æ„çš„ä¸€äº›ï¼š

- æ‚¨çš„å®ä¾‹ä¼šè¢«åˆ†é…ä¸€ä¸ª**æ–°çš„ç³»ç»Ÿç›˜**ï¼Œç³»ç»Ÿç›˜ ID ä¼šæ›´æ–°ï¼Œ**åŸç³»ç»Ÿç›˜è¢«é‡Šæ”¾**ï¼Œæ‰€ä»¥ç›®æ ‡å®ä¾‹å¦‚æœæœ‰é‡è¦æ•°æ®ï¼Œéœ€è¦è¿›è¡Œå¤‡ä»½ï¼›
- å®ä¾‹çš„ **IP åœ°å€å’Œ MAC åœ°å€ä¸å˜**ï¼›
- æ›´æ¢ç³»ç»Ÿç›˜éœ€è¦**åœæ­¢å®ä¾‹**ï¼Œå› æ­¤ä¼šä¸­æ–­çš„ä¸šåŠ¡ï¼›
- æ›´æ¢å®Œæˆåï¼Œéœ€è¦åœ¨æ–°çš„ç³»ç»Ÿç›˜ä¸­**é‡æ–°éƒ¨ç½²ä¸šåŠ¡è¿è¡Œç¯å¢ƒ**ï¼›
- æ›´æ¢ç³»ç»Ÿç›˜ç›¸å½“äºé‡æ–°ä¸ºæ‚¨çš„å®ä¾‹åˆ†é…äº†ä¸€ä¸ªç³»ç»Ÿç›˜ï¼Œ**ç£ç›˜ ID ä¼šæ”¹å˜**ï¼Œæ‰€ä»¥åŸºäºæ—§çš„ç³»ç»Ÿç›˜**åˆ›å»ºçš„å¿«ç…§å°†ä¸èƒ½ç”¨äºå›æ»šæ–°çš„ç³»ç»Ÿç›˜**ã€‚

åšå¥½äº†ä»¥ä¸Šçš„å‡†å¤‡ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¿›è¡Œç³»ç»Ÿç›˜çš„æ›´æ¢ï¼Œä¸‹é¢æ˜¯æ›´æ¢æ­¥éª¤ï¼š

1. é€‰æ‹©**ç›®æ ‡å®ä¾‹æ‰€åœ¨åœ°åŸŸ**ï¼›
2. åœ¨ã€Œäº‘æœåŠ¡å™¨ ECSã€å¯¼èˆªæ ä¸­ï¼Œé€‰æ‹©ã€Œ**å®ä¾‹**ã€ï¼›
3. **åœæ­¢**è¿è¡Œå®ä¾‹ï¼ˆå¦‚æœåœ¨è¿è¡Œçš„è¯ï¼‰ï¼›
4. åœ¨å®ä¾‹çš„å³ä¾§ï¼Œé€‰æ‹©ã€Œ**æ›´å¤š ğŸ‘‰ğŸ» ç£ç›˜å’Œé•œåƒ ğŸ‘‰ğŸ» æ›´æ¢ç³»ç»Ÿç›˜**ã€ï¼›
5. ä»”ç»†é˜…è¯»æ›´æ¢ç³»ç»Ÿç›˜æ³¨æ„äº‹é¡¹åï¼Œå•å‡»ã€Œ**ç¡®å®šï¼Œæ›´æ¢ç³»ç»Ÿç›˜ã€‚**ã€ï¼›
6. åœ¨ã€Œæ›´æ¢ç³»ç»Ÿç›˜ã€é¡µé¢ä¸Šï¼Œåœ¨ã€Œé•œåƒç±»å‹ã€ä¸€æ ä¸­é€‰æ‹©**è‡ªå®šä¹‰é•œåƒ**ï¼Œç„¶åé€‰æ‹©å‰é¢æˆ‘ä»¬å¤åˆ¶å¥½çš„é•œåƒï¼›
7. å¯†ç é€‰é¡¹ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ã€Œ**ä½¿ç”¨é•œåƒè‡ªå¸¦å¯†ç **ã€ï¼Œå…¶ä»–é€‰é¡¹è‡ªè¡Œé€‰æ‹©ï¼›
8. ç¡®è®¤æ— è¯¯åï¼Œå•å‡»ã€Œ**ç¡®å®šæ›´æ¢**ã€ã€‚

å®Œæˆæ“ä½œç³»ç»Ÿæ›´æ¢å¤§æ¦‚éœ€è¦ 10 åˆ†é’Ÿå·¦å³ã€‚å®Œæˆåï¼Œå®ä¾‹ä¼šè‡ªåŠ¨å¯åŠ¨ã€‚

### 4. æ”¶å°¾ï¼Œæ£€æŸ¥

#### åŸŸåè§£ææ›´æ”¹

æ›´æ¢å®ä¾‹ä¹‹åï¼Œå…¬ç½‘ IP è‡ªç„¶ä¹Ÿæ˜¯æ›´æ¢äº†ï¼Œæ‰€ä»¥å°†åŸŸåè§£ææ–°çš„å®ä¾‹çš„å…¬ç½‘ IP ä¸Šã€‚

#### SSH æµ‹è¯•

```bash
$ ssh root@æ–°çš„å…¬ç½‘ IP æˆ–è€…åŸŸåè§£ææ›´æ¢åçš„ hostname
```

å¦‚æœæ˜¯ HostName çš„è¯ï¼Œéœ€è¦åœ¨ `~/.ssh/known_hosts` æ–‡ä»¶ä¸­æŠŠä¹‹å‰çš„ DNS è¿‡çš„é‚£ä¸€è¡Œè®°å½•åˆ é™¤å³å¯ç»§ç»­ä½¿ç”¨ã€‚

#### æœåŠ¡é‡å¯

è¿™é‡Œæˆ‘éœ€è¦é‡å¯çš„ç›®å‰åªæœ‰ **Nginx** å’Œ **vsftpd**ã€‚

```bash
$ service vsftpd start
$ service nginx start
```

## é—®é¢˜æ•´ç†

åœ¨æ•°æ®è¿ç§»è¿‡ç¨‹ä¸­åŸºæœ¬æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œé˜¿é‡Œäº‘éƒ½ç»™ä½ æ•´çš„æœæœå¸–å¸–çš„~

### Nginx å¯åŠ¨åï¼Œä»ç„¶æ— æ³•è®¿é—®å…¬ç½‘ IP

é¦–å…ˆï¼Œæˆ‘å…ˆç”¨ `netstat -anp` æŸ¥çœ‹äº†ä¸‹å·²ç»ç›‘å¬çš„ç«¯å£ï¼Œå‘ç° 80 å’Œ 443 éƒ½å¼€å¯äº†ã€‚

ç„¶åï¼Œæˆ‘æ‰§è¡Œäº† `curl` å‘ç°ï¼Œ`curl localhost` æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ `curl -v www.lbinin.com` å´ä¸€ç›´åœ¨ç­‰å¾…å“åº”ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—åº”è¯¥æ˜¯é˜²ç«å¢™çš„é—®é¢˜ï¼Œç”±äºæˆ‘æ²¡æœ‰é…ç½® iptableï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰è€ƒè™‘ã€‚

æ‰¾äº†ä¸€ä¸‹èµ„æ–™ï¼Œåœ¨å‚è€ƒäº†ï¼š[centos7+nginx é…ç½®å¥½ä¸”å¼€å¯æœåŠ¡ä¹‹å,æ— æ³•è®¿é—® - V2EX](https://www.v2ex.com/t/436820#r_5418699) ä¸­ 17 æ¥¼çš„è¿™æ¡çš„å›ç­”ï¼š

> é˜¿é‡Œäº‘çš„å§ï¼Ÿæ§åˆ¶é¢æ¿æ”¾è¡Œ 80

å‘è§‰åº”è¯¥å°±æ˜¯å®‰å…¨ç»„çš„é—®é¢˜ï¼Œäºæ˜¯æˆ‘è¿›å…¥ã€Œ**ç½‘ç»œå’Œå®‰å…¨ ğŸ‘‰ğŸ» å®‰å…¨ç»„**ã€ï¼Œåœ¨ç›®æ ‡å®ä¾‹çš„å³ä¾§ï¼Œé€‰æ‹©ã€Œ**é…ç½®è§„åˆ™**ã€ï¼Œè¿›å…¥åå‘ç°å¹¶æ²¡æœ‰å¼€å¯ 80 å’Œ 443 ç«¯å£ï¼Œä»¥åŠæˆ‘è‡ªå®šä¹‰çš„ FTP ç«¯å£ã€‚

æ·»åŠ å¯¹åº”ç«¯å£çš„é…ç½®åï¼Œå°è¯•è®¿é—®ï¼Œå‘ç°é—®é¢˜è§£å†³ã€‚

### FTP æ— æ³•è¿æ¥

å› ä¸ºä¿®æ”¹äº†ç«¯å£å·ï¼Œä¸”æ›´æ¢åçš„å®ä¾‹æ˜¯é˜¿é‡Œäº‘çš„ã€Œä¸“æœ‰ç½‘ç»œã€ï¼Œå¯¼è‡´ä¸€ç›´æç¤ºï¼š

:::danger é”™è¯¯
çŠ¶æ€: 	æœåŠ¡å™¨å‘å›äº†ä¸å¯è·¯ç”±çš„åœ°å€ã€‚ä½¿ç”¨æœåŠ¡å™¨åœ°å€ä»£æ›¿ã€‚

å‘½ä»¤: 	LIST

é”™è¯¯: 	æ— æ³•å»ºç«‹æ•°æ®è¿æ¥: ETIMEDOUT - è¿æ¥å°è¯•è¶…æ—¶
:::

æ·»åŠ äº†å¯¹åº”ç«¯å£çš„å®‰å…¨ç»„ç­–ç•¥ä¹Ÿæ— æ³•è§£å†³ï¼Œåé¢å°è¯•é‡æ–°èµ°ä¸€éä¿®æ”¹ç«¯å£å·ã€‚

å‚è€ƒï¼š[æ›´æ”¹ vsftpd çš„ç«¯å£å· - suchy - CSDNåšå®¢](https://blog.csdn.net/shudaqi2010/article/details/36640733)

åœ¨ `/etc/service` æ–‡ä»¶åœ¨æŠŠ `ftp 21/tcp` æ”¹ä¸º `ftp è‡ªå®šä¹‰ç«¯å£å·/tcp` åï¼Œé‡å¯ **vsftpd** å³å¯è¿æ¥æˆåŠŸï¼

## å‚è€ƒèµ„æ–™

> [ä½¿ç”¨å¿«ç…§åˆ›å»ºè‡ªå®šä¹‰é•œåƒ - ç”¨æˆ·æŒ‡å—| é˜¿é‡Œäº‘](https://www.alibabacloud.com/help/zh/doc-detail/25460.htm?spm=a2c63.p38356.b99.154.23dc6a71VSi64i)
>
> [å¤åˆ¶é•œåƒ - ç”¨æˆ·æŒ‡å—| é˜¿é‡Œäº‘](https://www.alibabacloud.com/help/zh/doc-detail/25462.htm?spm=a2c63.p38356.b99.157.432872dfAzbfka)
>
> [äº‘æœåŠ¡å™¨ ECS æ•°æ®æ¢å¤ï¼šä½¿ç”¨å¿«ç…§ç­–ç•¥å’Œé•œåƒå¤‡ä»½æ•°æ®-åšå®¢-äº‘æ –ç¤¾åŒº-é˜¿é‡Œäº‘](https://yq.aliyun.com/articles/168874)
>
> [æ›´æ¢ç³»ç»Ÿç›˜ï¼ˆéå…¬å…±é•œåƒï¼‰ - ç”¨æˆ·æŒ‡å—| é˜¿é‡Œäº‘](https://www.alibabacloud.com/help/zh/doc-detail/25448.html?spm=a2c5t.11065259.1996646101.searchclickresult.2811262cQxR2Or)